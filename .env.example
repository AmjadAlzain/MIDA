# ==============================================================================
# MIDA OCR API - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env files with real secrets to version control!
# ==============================================================================

# === Application ===
APP_NAME=MIDA OCR API
APP_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false

# === Server ===
HOST=0.0.0.0
PORT=8000

# === Worker Configuration (Production) ===
# Number of API workers (recommended: 2 * CPU cores + 1)
WORKERS=4

# === Docker Port Mapping ===
API_PORT=8000
FRONTEND_PORT=80

# === Database (Docker Compose) ===
# These are used by docker-compose.yml to configure PostgreSQL
POSTGRES_USER=mida
POSTGRES_PASSWORD=CHANGE_THIS_TO_A_SECURE_PASSWORD
POSTGRES_DB=mida

# === Database (Direct Connection) ===
# Used when running outside Docker (local development)
# For Docker deployment, this is auto-generated from POSTGRES_* vars
DATABASE_URL=postgresql://mida:CHANGE_THIS_TO_A_SECURE_PASSWORD@localhost:5432/mida

# === Azure Document Intelligence ===
# Required for OCR functionality
# Get these from Azure Portal > Document Intelligence resource > Keys and Endpoint
AZURE_DI_ENDPOINT=https://your-resource.cognitiveservices.azure.com/
AZURE_DI_KEY=your-api-key-here

# === CORS ===
# Comma-separated list of allowed origins
# In production, set this to your actual domain(s)
CORS_ORIGINS=http://localhost,http://localhost:3000

# === Logging ===
# Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# Format: json (production) or text (development)
LOG_LEVEL=INFO
LOG_FORMAT=json

# === Backup Configuration ===
# Number of days to retain database backups
BACKUP_RETENTION_DAYS=7

# === MIDA API Client (Optional) ===
# Used by converter service to fetch certificate data from MIDA backend
# Only needed when running converter service separately
# MIDA_API_BASE_URL=http://localhost:8000
# MIDA_API_TIMEOUT_SECONDS=10
# MIDA_API_CACHE_TTL_SECONDS=60
